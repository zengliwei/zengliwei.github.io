<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
    <base href="/"/>
    <title>我是 Zengliwei</title>
    <link rel="shortcut icon" type="image/x-icon" href="web/images/favicon.ico"/>
    <link rel="stylesheet" type="text/css" href="web/css/home.css"/>
</head>
<body>

<div class="bg" data-role="bg">
    <section class="profile movie-stage">
        <div class="container"><img src="web/images/bg-profile.jpg"/></div>
    </section>
    <section class="notes movie-stage">
        <div class="container"><img src="web/images/bg-note.jpg"/></div>
        <div id="starry-sky"></div>
    </section>
    <section class="resources"></section>
    <section class="lab"></section>
</div>

<main>
    <section id="profile">
        <div class="wrapper">
            <article>
                <h1>我是 Zengliwei</h1>
                <p>我是一名走在全栈开发路上的程序员。</p>
                <p>苏格拉底说过：“除了自己的无知，我一无所知。（I know nothing except the fact of my ignorance.）”</p>
                <p>
                    不管别人是如何解读，对于我来说，这句话是用来时刻提醒自己，一个人的所知永远有限。特别是在现在这个信息发达的互联网时代，技术更迭日新月异。作为一个开发者，更是需要不断深化学习、开阔知识面，才能在未来的社会继续生存。</p>
                <p>学习新知识需要基础，自然离不开对旧知识的整理与甄别。这里记录了我在开发过程中遇到的问题和解决方案，以作日后参考。</p>
                <p>自学需要好的资源。这里收集了一些我过去曾经访问过感觉不错的站点，方便以后持续深入学习。</p>
            </article>
        </div>
    </section>
    <section id="notes">
        <h2>
            <span>开发笔记 Notes</span>
            <span class="more">[ <a target="_blank" href="notes">更多</a> ]</span>
        </h2>
        <div class="wrapper">
            <article>
                <a target="_blank" href="notes/development/agile/scrum-summary.html">
                    <h3><span class="tag">[DEV]</span> 敏捷开发 - Scrum 小结</h3>
                    <div class="summary">
                        Scrum 是一套用于帮助人们解决复杂问题的框架。
                    </div>
                    <div class="info"><span>2021-12-06</span></div>
                </a>
            </article>
            <article>
                <a target="_blank" href="notes/development/agile/scrum-guide.html">
                    <h3><span class="tag">[DEV]</span> 敏捷开发 - Scrum 指南</h3>
                    <div class="summary">
                        本文是对【The 2020 Scrum Guide】的读后翻译，原文请参阅：https://scrumguides.org/scrum-guide.html。
                    </div>
                    <div class="info"><span>2021-12-05</span></div>
                </a>
            </article>
            <article>
                <a target="_blank" href="notes/development/windows-dev.html">
                    <h3><span class="tag">[DEV]</span> Windows 多项目开发环境</h3>
                    <div class="summary">
                        多个 PHP 项目同时部署在 Windows 环境下会出现不少问题。为了解决这些问题，节省给新项目配置环境的时间，我用 Docker 构建了一个简易框架。
                    </div>
                    <div class="info"><span>2021-09-11</span></div>
                </a>
            </article>
            <article>
                <a target="_blank" href="notes/html-css/canvas/starry-sky.html">
                    <h3><span class="tag">[HTML5]</span> 用 canvas 实现星空动画</h3>
                    <div class="summary">
                        为了提醒自己对新知识保持探索精神，这个空间用了宇宙作为主题，今天给这个页面来了个星空背景。为巩固学习 canvas 的用法，没有直接使用百度来的代码，而是自己捣鼓了一下。
                        这里将过程简单记录，加深下印象。
                    </div>
                    <div class="info"><span>2021-09-06</span></div>
                </a>
            </article>
        </div>
    </section>
    <section id="resources">
        <h2><span>常用资源</span></h2>
        <div class="wrapper">
            <div class="container">
                <div class="box">
                    <h3>JavaScript 工具</h3>
                    <ul>
                        <li>
                            <a target="_blank" href="http://requirejs.org/">RequireJs</a>
                            <span>动态加载 JS 文件</span>
                        </li>
                        <li>
                            <a target="_blank"
                               href="https://knockoutjs.com/documentation/introduction.html">Knockout</a>
                            <span>View Model 类</span>
                        </li>
                        <li>
                            <a target="_blank" href="http://underscorejs.org/">Underscore</a>
                            <span>常用工具函数集</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://github.com/lindell/JsBarcode">Barcode</a>
                            <span>Barcode 生成</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://github.com/kazuhikoarase/qrcode-generator">QR Code</a>
                            <span>QR Code 生成</span>
                        </li>
                    </ul>
                </div>
                <div class="box">
                    <h3>JavaScript UI</h3>
                    <ul>
                        <li>
                            <a target="_blank" href="http://manos.malihu.gr/jquery-custom-content-scroller/">Custom
                                Scroller</a>
                            <span>虚拟滚动条</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://harvesthq.github.io/chosen/">Chosen</a>
                            <span>虚拟下拉框</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://github.com/blueimp/jQuery-File-Upload">File Upload</a>
                            <span>文件上传</span>
                        </li>
                        <li>
                            <a target="_blank" href="http://kenwheeler.github.io/slick/">Slick</a>
                            <span>自适应幻灯片</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://fancyapps.com/docs/ui/fancybox/">Fancybox</a>
                            <span>Light Box</span>
                        </li>
                    </ul>
                </div>
                <div class="box">
                    <h3>前端资源</h3>
                    <ul>
                        <li>
                            <a target="_blank" href="https://fontawesome.com/">Font Awesome</a>
                            <span>图标字体</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://simpleicons.org/">Simple Icons</a>
                            <span>图标库</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://loading.io/">Loading</a>
                            <span>加载中动图</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://materialui.co/">Material UI</a>
                            <span>配色工具</span>
                        </li>
                    </ul>
                </div>
                <div class="box">
                    <h3>模板网站</h3>
                    <ul>
                        <li><a target="_blank" href="https://dribbble.com/">Dribbble</a></li>
                        <li><a target="_blank" href="https://seantheme.com/">Sean Theme</a></li>
                        <li><a target="_blank" href="https://www.template.net/">Template</a></li>
                        <li><a target="_blank" href="https://themeforest.net/">Theme Forest</a></li>
                    </ul>
                </div>
                <div class="box">
                    <h3>PHP 工具库</h3>
                    <ul>
                        <li>
                            <a target="_blank" href="https://github.com/dompdf/dompdf">DomPDF</a>
                            <span>HTML 转 PDF</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://github.com/tecnickcom/TCPDF">TCPDF</a>
                            <span>PDF 库</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://github.com/fzaninotto/Faker">Faker</a>
                            <span>虚拟数据</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://github.com/picqer/php-barcode-generator">Barcode</a>
                            <span>Barcode 生成</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://github.com/endroid/qr-code">QR Code</a>
                            <span>QR code 生成</span>
                        </li>
                    </ul>
                </div>
                <div class="box">
                    <h3>PHP 框架</h3>
                    <ul>
                        <li><a target="_blank" href="https://www.drupal.org/">Drupal</a></li>
                        <li><a target="_blank" href="https://www.joomla.org/">Joomla</a></li>
                        <li><a target="_blank" href="https://laravel.com/">Laravel</a></li>
                        <li><a target="_blank" href="https://www.yiiframework.com/">Yii</a></li>
                    </ul>
                </div>
                <div class="box">
                    <h3>测试工具</h3>
                    <ul>
                        <li>
                            <a target="_blank" href="https://www.selenium.dev/">Selenium</a>
                            <span>浏览器自动化测试</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://github.com/vividus-framework/vividus">Vividus</a>
                            <span>浏览器自动化测试</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://crossbrowsertesting.com/">Cross Browser Testing</a>
                            <span>跨平台浏览器</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://www.browserstack.com/">Browser Stack</a>
                            <span>跨平台浏览器</span>
                        </li>
                    </ul>
                </div>
                <div class="box">
                    <h3>在线工具</h3>
                    <ul>
                        <li>
                            <a target="_blank" href="https://transfonter.org/">Transfonter</a>
                            <span>字体格式转换</span>
                        </li>
                        <li>
                            <a target="_blank" href="https://www.fontke.com/tool/convfont/">Fontke</a>
                            <span>字体格式转换</span>
                        </li>
                    </ul>
                </div>
                <div class="box">
                    <h3>设计工具</h3>
                    <ul>
                        <li><a target="_blank" href="https://www.adobe.com/products/xd.html">Adobe XD</a></li>
                        <li><a target="_blank" href="https://www.figma.com/">Figma</a></li>
                    </ul>
                </div>
                <div class="box">
                    <h3>资源收集</h3>
                    <ul>
                        <li><a target="_blank" href="https://github.com/ziadoz/awesome-php">Awesome PHP</a></li>
                        <li><a target="_blank" href="https://segmentfault.com/a/1190000018071558">优秀 PHP 资源</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <section id="lab">

    </section>
</main>

<nav>
    <a href="#profile" class="current"><span>Profile</span></a>
    <a href="#notes"><span>Notes</span></a>
    <a href="#resources"><span>Resources</span></a>
    <a href="#lab"><span>Lab</span></a>
</nav>

<script src="web/js/lib/require.js" type="text/javascript"></script>
<script src="web/js/require-config.js" type="text/javascript"></script>
<script>
    require(['jquery', 'scrollbar', '/web/js/starry-sky.js'], function ($) {

        const $win = $(window);
        const $doc = $(document);
        const $scrollBody = $('html, body');
        const $bg = $('[data-role="bg"]');
        const $main = $('body > main');
        const $nav = $('body > nav');
        const $bgSections = $bg.find('section');
        const $bgProfile = $bgSections.eq(0);
        const $bgNote = $bgSections.eq(1);
        const $sections = $main.find('section');
        const $sectionProfile = $sections.eq(0);
        const $sectionNote = $sections.eq(1);
        const $sectionResource = $sections.eq(2);
        const dividerRatio = 0.4;

        let currentSection = 0;
        let winW, winH;

        const updateStage = function () {
            $sections.each(function (i, el) {
                const $el = $(el);
                const elTop = $el.offset().top;
                const elBottom = elTop + $el.outerHeight();
                const scrollTop = $win.scrollTop();
                const dividerY = winH * dividerRatio;

                if (elBottom - scrollTop <= dividerY) {
                    $el.addClass('read');
                    $bgSections.eq(i).addClass('read');
                } else {
                    $el.removeClass('read');
                    $bgSections.eq(i).removeClass('read');
                }

                if (elTop - scrollTop <= dividerY
                    && elBottom - scrollTop > dividerY
                ) {
                    currentSection = i;
                    $el.addClass('current').siblings().removeClass('current');
                    $bgSections.eq(i).addClass('current').siblings().removeClass('current');
                }
            });
        };

        const intStage = function () {
            winW = $win.outerWidth();
            winH = $win.outerHeight();
            updateStage();
        };

        const initActions = function () {
            $nav.find('a').on('click', function (evt) {
                $(evt.currentTarget).addClass('current').siblings().removeClass('current');
                $scrollBody.animate({
                    scrollTop: $(evt.currentTarget.hash).offset().top
                }, {duration: 1000});
                return false;
            });

            $doc.on('scroll', updateStage);
            $(window).on('resize', intStage);

            setTimeout(function () {
                $scrollBody.scrollTop(0);
            }, 100);
        };

        const updateTransform = function (el, transformData) {
            el.css(
                'transform',
                'translate(' + transformData.translateX + 'px, ' + transformData.translateY + 'px) scale(' + transformData.scale + ')'
            );
        };

        /**
         * Section Profile initialization
         */
        const initSectionProfile = function () {
            const $box = $sectionProfile.find('.wrapper');
            const $containerProfile = $bgProfile.find('.container');
            const ratio = 0.01;
            let transformData = {
                translateX: 0, translateY: 0, scale: 1
            };
            $box.mCustomScrollbar({theme: 'minimal-dark'});
            $doc.on('mousemove', function (evt) {
                transformData.translateX = (winW / 2 - evt.clientX) * ratio;
                transformData.translateY = (winH / 2 - evt.clientY) * ratio;
                updateTransform($containerProfile, transformData);
            });
            $doc.on('scroll', function (evt) {
                transformData.scale = 1 + $win.scrollTop() / $sectionProfile.outerHeight() * 0.2;
                updateTransform($containerProfile, transformData);
            });
            $win.on('resize', function () {
                $box.mCustomScrollbar('update');
            });
        };

        /**
         * Section Note initialization
         */
        const initSectionNote = function () {
            // get sha https://api.github.com/repos/zengliwei/zengliwei.github.io/branches/master
            // get contents https://api.github.com/repos/zengliwei/zengliwei.github.io/contents/
            // get tree https://api.github.com/repos/zengliwei/zengliwei.github.io/git/trees/?recursive=1

            const $box = $sectionNote.find('.wrapper');
            $box.mCustomScrollbar({theme: 'minimal-dark'});
            $win.on('resize', function () {
                $box.mCustomScrollbar('update');
            });

            $('#starry-sky').starrySky();

            const $containerNote = $bgNote.find('.container');
            const ratio = 0.01;
            let transformData = {
                translateX: 0, translateY: 0, scale: 1
            };
            $doc.on('mousemove', function (evt) {
                transformData.translateX = (winW / 2 - evt.clientX) * ratio;
                transformData.translateY = (winH / 2 - evt.clientY) * ratio;
                updateTransform($containerNote, transformData);
            });
            $doc.on('scroll', function (evt) {
                transformData.scale = 1 + $win.scrollTop() / $sectionNote.outerHeight() * 0.2;
                updateTransform($bgNote, transformData);
            });
        };

        /**
         * Section Resource initialization
         */
        const initSectionResource = function () {
            const $box = $sectionResource.find('.wrapper');
            $box.mCustomScrollbar({theme: 'minimal-dark'});
            $win.on('resize', function () {
                $box.mCustomScrollbar('update');
            });
        };

        initActions();
        initSectionProfile();
        initSectionNote();
        initSectionResource();
        intStage();

    });
</script>
</body>
</html>